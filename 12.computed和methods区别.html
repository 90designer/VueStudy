<html>
  <head> </head>
  <body>
    <div id="app">
      <!-- 计算属性 -->
      <!-- 多次调用，只调用一次计算属性 ， 计算属性会缓存，首选计算属性-->
      <h2>{{fullName}}</h2>
      <h2>{{fullName}}</h2>
      <h2>{{fullName}}</h2>
      <h2>{{fullName}}</h2>

      <!-- 函数 -->
      <!-- 多次调用，调用多次函数 -->
      <h2>{{getfullName()}}</h2>
      <h2>{{getfullName()}}</h2>
      <h2>{{getfullName()}}</h2>
      <h2>{{getfullName()}}</h2>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script>
      const app = new Vue({
        el: "#app",
        data() {
          return {
            fname: "陈",
            lname: "辉",
            books: [
              { id: 1001, name: "编程艺术", price: 101 },
              { id: 1002, name: "golang实战开发", price: 102 },
              { id: 1003, name: "redis编程", price: 103 },
              { id: 1004, name: "Vue基础", price: 104 },
            ],
          };
        },
        // 计算属性: 调用不需要写()
        computed: {
          fullName: {
            get: function () {
              console.log("计算属性");
              return "10000";
            },
            set: function (v) {}, // 一般不用
          },
          totalPrice: function () {
            let res = 0;
            // js循环
            // for (let i = 0; i < this.books.length; i++) {
            //   res += this.books[i].price;
            // }
            //es6
            // for (let i in this.books) {
            //   res += this.books[i].price;
            // }
            // es6第二种循环
            for (let b of this.books) {
              res += b.price;
            }

            return res;
          },
        },
        methods: {
          setComputed: function (v) {
            this.fullName = v;
            alert(1);
          },
          getfullName: function () {
            console.log("函数");
            return "20000";
          },
        },
      });
    </script>
  </body>
</html>
